# install zplug
if [[ ! -d ~/.zplug ]];then
  git clone https://github.com/zplug/zplug ~/.zplug
fi

source ~/.zplug/init.zsh

# enhancd config
export ENHANCD_COMMAND=ed
#zplug 'bhilburn/powerlevel9k', as:theme
zplug "frmendes/geometry", as:theme
# Load theme file
# zplug "el1t/statusline", use:el1t.statusline

# Tracks your most used directories, based on 'frecency'.
zplug "rupa/z", use:"*.sh"

# Can manage everything e.g., other person's zshrc
zplug "tcnksm/docker-alias", use:zshrc

# Disable updates using the "frozen" tag
zplug "k4rthik/git-cal", as:command, frozen:1

# A next-generation cd command with an interactive filter
zplug "b4b4r07/enhancd", use:init.sh

# Additional completion definitions for Zsh
zplug "zsh-users/zsh-completions"

# This plugin adds many useful aliases and functions.
zplug "plugins/git",   from:oh-my-zsh

# A modified version of oh-my-zsh's plugin
zplug "zlsun/solarized-man"

# ZSH port of Fish shell's history search feature
zplug "zsh-users/zsh-history-substring-search", defer:2

# 256color ZSH Plugin
zplug "chrissicool/zsh-256color"

zplug "felixr/docker-zsh-completion"

# Grab binaries from GitHub Releases
# and rename with the "rename-to:" tag
zplug "junegunn/fzf-bin", \
    from:gh-r, \
    as:command, \
    rename-to:fzf, \
    use:"*darwin*amd64*"

# install fzf-tmux
zplug "junegunn/fzf", as:command, use:bin/fzf-tmux

# Syntax highlighting bundle. zsh-syntax-highlighting must be loaded after
# excuting compinit command and sourcing other plugins.
zplug "zsh-users/zsh-syntax-highlighting", defer:2

# A next-generation cd command with an interactive filter
zplug "b4b4r07/enhancd", use:init.sh

# Install plugins if there are plugins that have not been installed
if ! zplug check --verbose; then
    printf "Install? [y/N]: "
    if read -q; then
        echo; zplug install
    fi
fi

# Then, source plugins and add commands to $PATH
zplug load --verbose

# use coler 
autoload -Uz colors
colors

# setting histry
HISTFILE=~/.zsh_history
HISTSIZE=1000000
SAVEHIST=1000000

# setting auto compinit
autoload -Uz compinit
compinit -u

# ../ の後は今いるディレクトリを補完しない
zstyle ':completion:*' ignore-parents parent pwd ..
 
# 補完候補のカーソル選択を有効に
zstyle ':completion:*:default' menu select=1

# フローコントロールを無効にする
setopt no_flow_control
 
# Ctrl+Dでzshを終了しない
# setopt ignore_eof
 
# '#' 以降をコメントとして扱う
setopt interactive_comments
 
# 重複したディレクトリを追加しない
setopt pushd_ignore_dups
 
# 同時に起動したzshの間でヒストリを共有する
setopt share_history
 
# 同じコマンドをヒストリに残さない
setopt hist_ignore_all_dups
 
# スペースから始まるコマンド行はヒストリに残さない
setopt hist_ignore_space
 
# ヒストリに保存するときに余分なスペースを削除する
setopt hist_reduce_blanks
 
# 高機能なワイルドカード展開を使用する
setopt extended_glob

# スペルチェック
setopt correct
 
# ^R で履歴検索をするときに * でワイルドカードを使用出来るようにする
bindkey '^R' history-incremental-pattern-search-backward

# alias
alias l='ls'
alias la='ls -a' 
alias ll='ls -lah'
 
alias rm='rm -r'
alias cp='cp -i'
alias mv='mv -i'
 
alias mkdir='mkdir -p'
 
# sudo の後のコマンドでエイリアスを有効にする
alias sudo='sudo '

# grep でヒットした文字列を強調
alias grep="grep --color"

# グローバルエイリアス
alias -g L='| less'
alias -g G='| grep -v grep | grep --color -i'

alias ssh-log='ssh -f -N -L 8080:182.50.98.167:8022 log'

# マージ済みのブランチを消す
alias git-del='git branch --merged | grep -vE "^\*|master$|develop$" | xargs -I % git branch -d %'

#  alias ssh='~/dotfiles/bin/ssh-host-color.sh'



# zhs-completions
fpath=(/usr/local/share/zsh-completions $fpath)

export PATH="$HOME/.phpenv/bin:$PATH"
eval "$(phpenv init -)"

eval "$(rbenv init -)"

export CLICOLOR=true
export LSCOLORS='exfxcxdxbxGxDxabagacad'
export LS_COLORS='di=34:ln=35:so=32:pi=33:ex=31:bd=36;01:cd=33;01:su=31;40;07:sg=36;40;07:tw=32;40;07:ow=33;40;07:'
export PATH=$HOME/.nodebrew/current/bin:$PATH
export JAVA_HOME=`/usr/libexec/java_home -v 1.8`
